{% extends "base.html" %}

{% block content %}
<div class="dashboard">
    <h1>Selamat Datang di WAOW Workshop! ðŸŽ‰</h1>
    
    <div class="stats">
        <div class="col-md-3">
            <div class="stat-card bg-warning text-dark">
                <h3>Today's Sales</h3>
                <p id="todaySales">$0</p>
            </div>
        </div>
        <div class="stat-card">
            <h3>Total Customers</h3>
            <p id="totalCustomers">0</p>
        </div>
        <div class="stat-card">
            <h3>Total Products</h3>
            <p id="totalProducts">0</p>
        </div>
        <div class="stat-card">
            <h3>Total Transactions</h3>
            <p id="totalTransactions">0</p>
        </div>
    </div>

    <div class="quick-actions">
        <h2>Quick Actions</h2>
        <div class="action-buttons">
            <a href="/customers" class="btn">Kelola Customers</a>
            <a href="/products" class="btn">Kelola Products</a>
        </div>
    </div>
</div>

<script>
    // Load dashboard stats
    async function loadDashboardStats() {
        try {
            // Load customers count
            const customersResponse = await fetch('/api/customers');
            const customers = await customersResponse.json();
            document.getElementById('totalCustomers').textContent = customers.length;

            // Load products count
            const productsResponse = await fetch('/api/products');
            const products = await productsResponse.json();
            document.getElementById('totalProducts').textContent = products.length;

            // Untuk transactions, kita bisa buat API terpisah nanti
            document.getElementById('totalTransactions').textContent = '50+';
            
        } catch (error) {
            console.error('Error loading dashboard stats:', error);
        }
    }

    document.addEventListener('DOMContentLoaded', loadDashboardStats);
</script>

<style>
.dashboard {
    padding: 2rem;
}

.stats {
    display: flex;
    gap: 1rem;
    margin: 2rem 0;
}

.stat-card {
    background: white;
    padding: 1.5rem;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    flex: 1;
    text-align: center;
}

.stat-card h3 {
    margin: 0;
    color: #666;
    font-size: 1rem;
}

.stat-card p {
    font-size: 2rem;
    font-weight: bold;
    margin: 0.5rem 0 0 0;
    color: #333;
}

.quick-actions {
    margin-top: 2rem;
}

.action-buttons {
    display: flex;
    gap: 1rem;
    margin-top: 1rem;
}

.btn {
    background: #333;
    color: white;
    padding: 1rem 2rem;
    text-decoration: none;
    border-radius: 5px;
    transition: background 0.3s;
}

.btn:hover {
    background: #555;
}
</style>
{% endblock %}